namespace TT
open System



module DesignGuids =

//            for (var i = 0; i < 200; i++)
//            {
//                System.Diagnostics.Debug.WriteLine($"let guid{i} = Guid.Parse(\"{ Guid.NewGuid()}\")");
//            }

    let guid0 = Guid.Parse("d8cc90af-00a1-4785-8731-105130f5721d")
    let guid1 = Guid.Parse("bef0917b-dbaf-4f75-aa8a-e35808dee68a")
    let guid2 = Guid.Parse("fe996112-0bc3-4530-9515-e4d96d30abf0")
    let guid3 = Guid.Parse("4aa86a77-a91f-476b-93f9-0859af80ab03")
    let guid4 = Guid.Parse("28b7f230-e152-4672-b9cf-f9eba849f55c")
    let guid5 = Guid.Parse("985f5dac-1778-4cb9-bc0b-22a3f7000b6a")
    let guid6 = Guid.Parse("a778225e-1b21-4097-bd5e-e9f3bfd137a3")
    let guid7 = Guid.Parse("279a7fa2-d85e-47e6-9eee-38d6ad23796d")
    let guid8 = Guid.Parse("d448e8f9-264a-4fef-93c3-425fcae02869")
    let guid9 = Guid.Parse("d59e3846-15d5-4328-a325-38c4fd2a69ad")
    let guid10 = Guid.Parse("e8e6d596-626f-4448-aa3d-c1302a9decc1")
    let guid11 = Guid.Parse("2b951f6a-e791-4cd6-ad44-15303a3ee51d")
    let guid12 = Guid.Parse("7b4b5954-99ef-4ffa-8110-770718cec35e")
    let guid13 = Guid.Parse("ea004df0-9295-4019-8838-84cd68800be9")
    let guid14 = Guid.Parse("5f80de2f-e471-4bb9-a2da-5ff48c474c7c")
    let guid15 = Guid.Parse("499233cf-f496-44f1-b249-8dbe87e6395a")
    let guid16 = Guid.Parse("dc7c2bda-1245-46ec-8679-4114209cee48")
    let guid17 = Guid.Parse("5febd431-0df5-4cbb-958c-9bedecd5a43a")
    let guid18 = Guid.Parse("e9bf004b-41f3-48d6-9b32-79c95ff913c7")
    let guid19 = Guid.Parse("a7895d46-f16f-4f27-a808-a99c8209bb74")
    let guid20 = Guid.Parse("0cc00227-c897-4b08-871d-377d3b4d10d9")
    let guid21 = Guid.Parse("cdef2794-1708-4031-a880-d8b0fdf2c94a")
    let guid22 = Guid.Parse("25552011-3fd0-4e95-b801-a5c733787701")
    let guid23 = Guid.Parse("d01b69cc-c5fd-4881-8228-3556382f5edd")
    let guid24 = Guid.Parse("e0807687-db8e-49f4-ae6d-891555c06635")
    let guid25 = Guid.Parse("31f1e33a-5d42-441a-8eff-f19ab3057231")
    let guid26 = Guid.Parse("3e6a581e-2c3d-4c71-8b1e-6d9b35ee8119")
    let guid27 = Guid.Parse("5e80c23b-f3cf-4f8a-9e24-114ae774d1b4")
    let guid28 = Guid.Parse("9cb7c622-689f-4f40-b5bc-ce749c43465c")
    let guid29 = Guid.Parse("f7c9e84a-ffc7-40e3-b961-7de84137c8ff")
    let guid30 = Guid.Parse("c95c6302-3a16-49bd-8170-bf31178ecc26")
    let guid31 = Guid.Parse("89349203-65a4-4aa5-b2ad-936e24c06505")
    let guid32 = Guid.Parse("e42f8adf-db94-4f5f-bd74-680ed2019be9")
    let guid33 = Guid.Parse("df4dc886-18a6-4d8f-b150-26a7073102b7")
    let guid34 = Guid.Parse("9d3dd7e2-4f4a-4d63-ba67-cf15d4c32207")
    let guid35 = Guid.Parse("e52f978c-47e6-4471-8fef-e96fcdfffd4f")
    let guid36 = Guid.Parse("d6871b34-30e6-456a-b719-36d2f9392713")
    let guid37 = Guid.Parse("d48ada83-ac90-4512-99d3-123607fe97c3")
    let guid38 = Guid.Parse("a2b326b7-1532-41a2-a44e-7e21ac5263f3")
    let guid39 = Guid.Parse("e46d190b-e6d7-4f27-8185-54773b8e0b6f")
    let guid40 = Guid.Parse("d4436298-2894-46b6-9b86-79640d1fb358")
    let guid41 = Guid.Parse("90e6a788-3f2e-47f5-ad4d-efb85407eb3e")
    let guid42 = Guid.Parse("c24ac2c0-1e0e-4e7c-82b6-eeb1fbdc77bd")
    let guid43 = Guid.Parse("923795e7-0b47-4c6d-9351-bfc63d4c192f")
    let guid44 = Guid.Parse("31338016-2e49-4e77-b3a8-5f7fe3ce3607")
    let guid45 = Guid.Parse("48daf76a-86ec-4679-9657-241461c28ba8")
    let guid46 = Guid.Parse("bbdd41fa-475b-4aca-aaa3-d80e27a21c48")
    let guid47 = Guid.Parse("b14fc3b1-357c-4522-bb80-ff28d35ecb75")
    let guid48 = Guid.Parse("c7915144-9acb-4b49-a8fa-e37fe6bb88bc")
    let guid49 = Guid.Parse("c0c5aa40-c775-4863-a330-e3ab617d845a")
    let guid50 = Guid.Parse("04e2fbeb-03ae-4d94-88b5-b47cb04b4634")
    let guid51 = Guid.Parse("1832646c-44a9-4ce3-9148-4742fb6b481e")
    let guid52 = Guid.Parse("9efbe86d-90a3-412a-89b8-0dabfe9bbb94")
    let guid53 = Guid.Parse("417ddd0d-3000-4b46-9ffc-492827092fd3")
    let guid54 = Guid.Parse("c16c2f51-3668-4ff1-b028-067d346d6a9e")
    let guid55 = Guid.Parse("8e1753ad-7638-4206-bb23-2c40a5cefb15")
    let guid56 = Guid.Parse("1be80030-1e86-484a-908b-9290420ce407")
    let guid57 = Guid.Parse("381ff872-33f7-4ba1-b806-7cdda78db7f3")
    let guid58 = Guid.Parse("71fdd090-4527-4cba-9dbf-945b294eb865")
    let guid59 = Guid.Parse("c6781fdd-0d3a-4702-b8fb-0c8237a29267")
    let guid60 = Guid.Parse("4ff45aa9-f24b-4aaf-806a-0b310a956270")
    let guid61 = Guid.Parse("968790c8-52dd-4cd6-a06f-f8b98b34162d")
    let guid62 = Guid.Parse("d132108a-a931-4c17-9a7e-dd5b5c5a2f85")
    let guid63 = Guid.Parse("22d83026-5287-458f-9f12-161ba77e5f6b")
    let guid64 = Guid.Parse("3773afca-637f-4dbe-a2ef-6202504065e2")
    let guid65 = Guid.Parse("c20a5421-35c6-4ad2-9156-440f621e9bf7")
    let guid66 = Guid.Parse("494ee6bb-91d9-4c02-86d9-fb549207a6f4")
    let guid67 = Guid.Parse("6fa2c244-1809-4905-bec2-a7ad27140592")
    let guid68 = Guid.Parse("078e7b77-07cb-40c2-8f8e-9039aa048e59")
    let guid69 = Guid.Parse("6f1825cf-f83e-4740-b709-cbd560d9d0f1")
    let guid70 = Guid.Parse("d73db8b2-5380-4789-afe8-836fa1026a5f")
    let guid71 = Guid.Parse("a4606438-5c32-44a4-a187-f3ac42ab8106")
    let guid72 = Guid.Parse("a99dfe76-5824-4bea-8637-537ab28cb9d3")
    let guid73 = Guid.Parse("fd43455d-a570-4c38-82ed-11c782941a24")
    let guid74 = Guid.Parse("587726f9-d1a3-40ff-ae99-75741b8a1d99")
    let guid75 = Guid.Parse("029597f6-3c14-4c18-8325-a76793325812")
    let guid76 = Guid.Parse("36d89a0f-4a81-4940-9de8-b30d7487150a")
    let guid77 = Guid.Parse("bffd36e5-1c31-44b2-8adb-0fe034985417")
    let guid78 = Guid.Parse("c9bc5239-8b21-4075-8303-c9f461efe015")
    let guid79 = Guid.Parse("572aee94-b2ad-47ed-8eb1-38702149cfcb")
    let guid80 = Guid.Parse("9fed2f4d-7ec4-407d-8b63-b80d919f3d58")
    let guid81 = Guid.Parse("d8e196d6-f58f-4c49-9c14-5e4eadcf02e8")
    let guid82 = Guid.Parse("b902f4d2-f613-470e-9226-8e7d078d2c7d")
    let guid83 = Guid.Parse("69c41fa2-2c80-4b55-b2da-7f1589aff868")
    let guid84 = Guid.Parse("7fd0239c-3138-4b9c-b48f-d00ba35a7d3c")
    let guid85 = Guid.Parse("0f036e42-36e7-4add-bf6c-04e87c420070")
    let guid86 = Guid.Parse("7daa1a41-37e4-4cb0-9fa8-6ce48496a871")
    let guid87 = Guid.Parse("170879e9-e723-4a3b-8ac8-0cd30674339c")
    let guid88 = Guid.Parse("c07cd5d7-dff0-41f0-a886-6a9bb9528b98")
    let guid89 = Guid.Parse("85735a34-47ae-4dfc-b6ac-7e3b1cbf613e")
    let guid90 = Guid.Parse("c0f36658-9a07-448d-839a-1efddedba013")
    let guid91 = Guid.Parse("b50e0871-4111-4115-a493-fbea326df225")
    let guid92 = Guid.Parse("c04666bf-6111-48c5-a94d-134f4ffa43dc")
    let guid93 = Guid.Parse("0ab2502a-5bae-4ad8-a0ef-9224503f1c54")
    let guid94 = Guid.Parse("8b20ac91-bb11-448f-9135-d064f2296df1")
    let guid95 = Guid.Parse("2b2e6d16-fcd0-4f90-9a4a-c346bb48a7ed")
    let guid96 = Guid.Parse("cc43935d-5fba-4b12-92da-a9cf467d7a3a")
    let guid97 = Guid.Parse("d146afc5-fb0b-4783-aa4f-f5df5288432a")
    let guid98 = Guid.Parse("f770aafa-caa5-45da-859c-d76bbd37671b")
    let guid99 = Guid.Parse("39244f91-0709-4f94-a830-39a644d916e0")
    let guid100 = Guid.Parse("c994791a-fcb1-4ca4-9d3f-8fc2225cb396")
    let guid101 = Guid.Parse("8705789f-6c92-4dcd-8dcf-57ea35525d32")
    let guid102 = Guid.Parse("7f793e0e-e480-45e0-9e41-5a9b69c7ab6c")
    let guid103 = Guid.Parse("36f2cafe-20d7-4348-9c65-040e54c0b3f2")
    let guid104 = Guid.Parse("4b978aab-e6ee-4917-9835-2a99f1940651")
    let guid105 = Guid.Parse("237f0fd4-35ee-4b10-a003-fb3ed87301a8")
    let guid106 = Guid.Parse("be0df2fb-e7b4-4b1f-8cd8-9c07f3827722")
    let guid107 = Guid.Parse("520da8e9-2095-45ad-8144-866fc17444a9")
    let guid108 = Guid.Parse("3d54345c-eb6e-4e1d-bc49-7afad9e366e1")
    let guid109 = Guid.Parse("e9258b56-78e5-4998-a8fd-a3858349a0c2")
    let guid110 = Guid.Parse("d3afda67-1010-4de2-bb06-7cb3d8df8b0e")
    let guid111 = Guid.Parse("c882a865-4a93-446b-bee8-24b3652c0609")
    let guid112 = Guid.Parse("367637c8-5b9f-4ba2-84dc-ba89f16a4e46")
    let guid113 = Guid.Parse("1a61807c-1ea7-46f1-b7e9-3c93d4426e5c")
    let guid114 = Guid.Parse("f0165a5c-3375-483a-a801-a11b4f8927d4")
    let guid115 = Guid.Parse("388965ed-082d-4613-9687-9f0f43a7a7d1")
    let guid116 = Guid.Parse("5fa6b026-1334-4c98-9479-db4fe28e1742")
    let guid117 = Guid.Parse("63112eb6-f37d-4eb9-8914-8275466949fa")
    let guid118 = Guid.Parse("9a6319a9-f46b-4710-92fb-2216bf62183a")
    let guid119 = Guid.Parse("86b35a52-cc5b-449d-85bc-390af7ae0c14")
    let guid120 = Guid.Parse("77ea93df-9ec3-4149-8b7c-46e4af2d31ec")
    let guid121 = Guid.Parse("0a2b5b79-f222-4ada-b7f2-bd2e30ae6d56")
    let guid122 = Guid.Parse("4ba17353-7f0a-44f9-9435-a5cd985655c5")
    let guid123 = Guid.Parse("26aaccb3-ffe5-4b8c-a2f7-9a9781defa1b")
    let guid124 = Guid.Parse("8bf4f80a-4602-4230-967d-0f807132b420")
    let guid125 = Guid.Parse("ac14aae7-7577-4acf-9503-c4688b4b1a11")
    let guid126 = Guid.Parse("5e20aa8c-1360-41c6-8e64-87d166d8dfbd")
    let guid127 = Guid.Parse("82c79942-c2d8-45b2-9916-df53f7c751c0")
    let guid128 = Guid.Parse("064f1234-64a9-4063-b2bf-d1ea82720b00")
    let guid129 = Guid.Parse("0c9a0a90-1ab8-4f81-a3e1-db46b9c475e6")
    let guid130 = Guid.Parse("ad07615d-e173-4fa2-9b36-c5912b1d7c51")
    let guid131 = Guid.Parse("78325b8b-c56b-4c7d-ada5-9fc76323c0af")
    let guid132 = Guid.Parse("968e5156-ff12-49ed-8a62-7753bd8eff0b")
    let guid133 = Guid.Parse("f33a899e-44c1-4cc6-a918-84ffc78c01c9")
    let guid134 = Guid.Parse("ff00c17f-430d-41d6-aece-40a64c4f7cfb")
    let guid135 = Guid.Parse("d5dab7e7-7a87-47f8-a64e-6def88823d6b")
    let guid136 = Guid.Parse("ff3fbf39-ae3d-42eb-98d6-a2e538543f4a")
    let guid137 = Guid.Parse("72ff7ce6-49ff-4930-9272-efd1dd40bca7")
    let guid138 = Guid.Parse("ad9d2646-b8fb-4b9d-b6de-728ec37b7d16")
    let guid139 = Guid.Parse("8dc1653d-8c69-4931-bcec-c790d8f5779b")
    let guid140 = Guid.Parse("059c90c5-7b80-49d3-957e-8d0ed71eca22")
    let guid141 = Guid.Parse("3d89b560-08bb-4e1f-9493-589c4e582e75")
    let guid142 = Guid.Parse("cae7a0c0-8b61-462a-a6fd-576977123723")
    let guid143 = Guid.Parse("1090be1a-b668-4c87-8fb7-74fc100c82ba")
    let guid144 = Guid.Parse("1b6994b5-d406-4d2c-8c85-6d840ced4226")
    let guid145 = Guid.Parse("eee11f83-fc8f-4b63-8202-4446294d4a90")
    let guid146 = Guid.Parse("3fea2331-fd50-4235-8295-7f5c5cb1296a")
    let guid147 = Guid.Parse("2c116a60-4854-41c1-a034-e0d62873b24b")
    let guid148 = Guid.Parse("017e7b79-9461-4a52-8dca-b115dc9b705b")
    let guid149 = Guid.Parse("bf0b377f-9c5f-420e-b56a-67d28e81a98d")
    let guid150 = Guid.Parse("56302b75-23e8-4d54-aa69-b7c5fe035c39")
    let guid151 = Guid.Parse("1132c68d-c921-4c1b-a73d-df1b56dd2153")
    let guid152 = Guid.Parse("80319775-47d7-44fc-834a-bff4aece6c6e")
    let guid153 = Guid.Parse("ef163149-1a9e-4fae-9e0d-0fc76d05cf1b")
    let guid154 = Guid.Parse("e93882e6-f006-484c-8f03-d9b46bf3ddec")
    let guid155 = Guid.Parse("4f39dfbd-ee59-4dde-a1d2-4e775f1f1810")
    let guid156 = Guid.Parse("92d79533-88aa-4e8d-a04c-8788696d7b78")
    let guid157 = Guid.Parse("6a051c0c-c6cb-4cb8-9c52-ab5e9036d2b4")
    let guid158 = Guid.Parse("4cbe4380-03b8-4d8e-9a81-51bdd8300cb4")
    let guid159 = Guid.Parse("32758419-67a2-45f9-8c4d-02fe21a1997b")
    let guid160 = Guid.Parse("b9c07305-2302-469e-8455-d5788ec11392")
    let guid161 = Guid.Parse("d3b9afc8-f1b0-4e75-bb94-cd1116d14202")
    let guid162 = Guid.Parse("df2dba3a-cf80-45b4-a498-0508475c7b92")
    let guid163 = Guid.Parse("429cae32-ee8a-4a09-96cb-90a4bde970e0")
    let guid164 = Guid.Parse("beff0d04-1cd2-4b28-916a-1b2adec995ed")
    let guid165 = Guid.Parse("feafb0ee-baff-41e1-a04f-d39c24af39a0")
    let guid166 = Guid.Parse("b05255c4-3472-4dd5-92cb-371f024414f2")
    let guid167 = Guid.Parse("cf3eb271-7cbe-45d7-b428-046845b83584")
    let guid168 = Guid.Parse("333ead6f-1e11-46b8-9a0d-efa973ab7f90")
    let guid169 = Guid.Parse("4d3d5aaa-99e7-4e04-8873-6e6f32516d7b")
    let guid170 = Guid.Parse("3414c4cf-add5-43e3-94fe-b57bd402da9e")
    let guid171 = Guid.Parse("c11199bc-f0e7-46fd-b4af-fa4f81dce0b3")
    let guid172 = Guid.Parse("407ea601-598f-4a53-b9ca-57592f0ce68e")
    let guid173 = Guid.Parse("195106da-e0ee-451c-840c-00dbb134ccef")
    let guid174 = Guid.Parse("9878976a-e495-4dd8-80b4-70871bd7afe9")
    let guid175 = Guid.Parse("ed2da070-9a6a-4b3f-9f91-01d2f0f02af6")
    let guid176 = Guid.Parse("ef68dde8-1f0a-470a-9f7f-a68b7842ed51")
    let guid177 = Guid.Parse("33916bd9-6057-4b7d-933b-cce918acf17e")
    let guid178 = Guid.Parse("37fcef8d-7e19-4633-88db-5e02a48da2b7")
    let guid179 = Guid.Parse("ff147601-5e45-4df2-af5b-19b1c2197b3a")
    let guid180 = Guid.Parse("7095833a-0104-473b-b121-e2bf7e9d4d93")
    let guid181 = Guid.Parse("5b0b3426-db07-4886-8047-4398682fb71f")
    let guid182 = Guid.Parse("5a6170a6-313c-4d15-83a4-9435e6381d87")
    let guid183 = Guid.Parse("fee05967-4df9-4d98-9f7a-5f9f2ad8f9ae")
    let guid184 = Guid.Parse("3259b040-c0f3-4b80-a017-93bedc6d5868")
    let guid185 = Guid.Parse("55cd6f3a-dc6f-4deb-a693-867b3fe74e7c")
    let guid186 = Guid.Parse("1f58199c-5015-4345-abf6-878572d7197a")
    let guid187 = Guid.Parse("2b7db04b-8e23-4076-99ea-47373bcaa7f8")
    let guid188 = Guid.Parse("76c6f3c3-6676-4651-aac6-f650e84679b1")
    let guid189 = Guid.Parse("20013474-bcba-4395-b855-80c82843188d")
    let guid190 = Guid.Parse("239b0f73-9879-474b-b1e5-cbbd413a425f")
    let guid191 = Guid.Parse("422c3410-c12c-461e-bbbf-6ed8d65589ff")
    let guid192 = Guid.Parse("cb1de33c-81e4-4b81-aeed-ddbe0a0d7448")
    let guid193 = Guid.Parse("9609863c-d34d-4e9e-bf44-b49c9a1f7755")
    let guid194 = Guid.Parse("68220404-c7f1-4831-9feb-5f247132e992")
    let guid195 = Guid.Parse("03384db2-5317-4663-bcea-ca4e6b57bb03")
    let guid196 = Guid.Parse("a700fb60-27a5-4a44-af64-bc980bd9df51")
    let guid197 = Guid.Parse("d812327b-0f92-487a-8799-442637fa121c")
    let guid198 = Guid.Parse("0419c805-d4ab-4f56-bccc-8d4489be6264")
    let guid199 = Guid.Parse("537c79c0-eff2-4e83-9004-ff13339bcd38")


module DesignData =

    let Grid2dGradient (strides:Sz2<int>) =
        let denom = ( 0.5f * (float32 (strides.X * strides.Y)))
        A2dUt.Raster2d strides |> Seq.map(fun p ->
           { P2V.X=p.X; Y=p.Y; 
             V = ( float32 (p.X + p.Y * strides.X)) / denom - 1.0f})


    let PlotModUFDelta =
      let leg = ColorSets.RedBlueSFLeg
      let strides = {Sz2.X=100; Sz2.Y=100}

//      let valueFor x y =
//        let lhs = (float32 (x-50)) / 50.0f
//        let rhs = (float32 (y-50)) / 50.0f
//        NNfunc.ModUFDelta lhs rhs

      let valueFor =
        NNfunc.MStretchO 12.0f 0.2f

//      A2dUt.Raster2d strides |> Seq.map(fun p ->
//           { 
//             P2V.X = (float32 (p.X-50)) / 50.0f; 
//                 Y = (float32 (p.Y-50)) / 50.0f; 
//                 V = ColorSets.GetLegColor leg (valueFor p.X p.Y)
//           })

      A2dUt.Raster2d strides |> Seq.map(fun p ->
           let xf = (float32 (p.X-50)) / 50.0f
           let yf = (float32 (p.Y-50)) / 50.0f
           { 
             P2V.X = xf; 
                 Y = yf; 
                 V = ColorSets.GetLegColor leg (NNfunc.Cached.StretchO xf yf)
           })


    let GradientStarAs2d (strides:Sz2<int>) =
        (Grid2dCnxn.GradientStar strides)
        |> Grid2dCnxn.Cnx4dVToCnx2d strides.X


    let NoiseyStarAs2d bounds =
        Grid2dCnxn.NoiseyLocalRing bounds 127 0.0f 0.5f
        |> Grid2dCnxn.Cnx4dVToCnx2d bounds.X


    let Noisey2D2IGrid bounds =
        None